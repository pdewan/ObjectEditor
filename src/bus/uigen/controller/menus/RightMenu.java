package bus.uigen.controller.menus;import bus.uigen.uiFrame;import bus.uigen.widgets.PopupMenuSelector;import bus.uigen.widgets.VirtualComponent;import bus.uigen.widgets.VirtualContainer;import bus.uigen.widgets.VirtualFrame;import bus.uigen.widgets.VirtualPopupMenu;import java.awt.PopupMenu;import javax.swing.JPopupMenu;import util.trace.Tracer;import java.awt.MenuItem;import java.awt.Frame;import java.util.Vector;public class RightMenu /* extends PopupMenu */{	Vector<RightMenuItem> children = new Vector();	// PopupMenu popup = new PopupMenu();	VirtualPopupMenu popup = PopupMenuSelector.createPopupMenu();		public RightMenu() {			}	public void add(RightMenuItem child) {		if (children.contains(child))			return;		children.add(child);		popup.add(child.getMenuItem());	}	public void add(RightMenu child) {		popup.add(child.getPopup());	}	public void remove(RightMenuItem child) {		children.remove(child);		popup.remove(child.getMenuItem());	}	public void removeAllElements() {		for (int i = 0; i < popup.getItemCount(); i++)			popup.remove(popup.getItem(i));		children.removeAllElements();	}	public void add(String item) {		popup.add(item);	}	public VirtualPopupMenu getPopup() {		return popup;	}	public void setPopup(VirtualPopupMenu newVal) {		popup = newVal;	}	public RightMenuItem getItem(int i) {		return children.get(i);	}	public int getItemCount() {		return children.size();	}	// not being called right now	//public void configure(VirtualFrame frame, Object object) {	public void configure(uiFrame frame, Object object) {		// frame.add(this);		// PopupMenu p;		//frame.add(popup);		if (frame.getFrame() != null)		frame.getFrame().add(popup);//		System.out.println("Configuring menu for " + object + " with " + getItemCount());		// set the object argument in all children		RightMenuItem item;		for (int i = 0; i < getItemCount(); i++) {			item = getItem(i);			// the following does not work if the menu contains items of multiple objects//			item.setObject(object);			item.setFrame(frame);					}	}		public void show(VirtualComponent comp, int x, int y) {		 popup.show(comp, x, y);	}	public void checkPre() {		RightMenuItem item;		for (int i = 0; i < getItemCount(); i++) {			item = getItem(i);			item.checkPre();			/*			 * if (item instanceof RightMenuItem) { ((RightMenuItem)			 * item).checkPre(); }			 */		}	}	public void checkPre(Object obj) {		RightMenuItem item;		for (int i = 0; i < getItemCount(); i++) {			item = getItem(i);			item.checkPre(obj);			/*			 * if (item instanceof RightMenuItem) { ((RightMenuItem)			 * item).checkPre(obj); }			 */		}	}}